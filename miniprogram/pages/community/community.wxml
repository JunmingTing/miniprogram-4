<!--精彩时刻页面 - 个人图片展示-->
<view class="community-container">
  <!-- 固定发布按钮 -->
  <view class="fixed-publish-btn" bind:tap="onPublishTap">
    <t-icon name="add" size="40rpx" color="#fff" />
  </view>

  <!-- 帖子列表 -->
  <view class="posts-list">
    <view class="post-item" wx:for="{{posts}}" wx:key="id" bind:tap="onPostTap" data-post="{{item}}">

      <!-- 图片轮播 -->
      <view class="post-images" wx:if="{{item.images.length > 0}}">
        <t-swiper 
          current="{{item.currentImageIndex}}"
          bind:change="onImageChange"
          data-post-id="{{item.id}}"
          class="post-swiper"
          autoplay="{{false}}"
          interval="0"
          duration="300"
        >
          <t-swiper-item wx:for="{{item.images}}" wx:key="index" wx:for-item="image">
            <view class="image-container">
              <t-image 
                src="{{image}}" 
                class="post-image"
                mode="aspectFill"
                width="100%"
                height="400rpx"
              />
            </view>
          </t-swiper-item>
        </t-swiper>
        
        <!-- 图片指示器 -->
        <view class="image-indicator" wx:if="{{item.images.length > 1}}">
          <text class="indicator-text">{{item.currentImageIndex + 1}}/{{item.images.length}}</text>
        </view>
        
        <!-- 滑动提示 -->
        <view class="swipe-hint" wx:if="{{item.images.length > 1}}">
          <t-icon name="chevron-left" size="24rpx" color="rgba(255,255,255,0.7)" />
          <text class="hint-text">左右滑动</text>
          <t-icon name="chevron-right" size="24rpx" color="rgba(255,255,255,0.7)" />
        </view>
      </view>

      <!-- 标签区域 -->
      <view class="post-tags">
        <view class="tag-item" wx:for="{{item.tags}}" wx:key="id" catchtap="onTagTap" data-tag="{{item}}">
          <t-tag 
            theme="{{item.isLiked ? 'warning' : 'default'}}"
            size="small"
            class="post-tag"
          >
            {{item.text}}
          </t-tag>
        </view>
        <!-- 添加标签按钮 -->
        <view class="add-tag-btn" catchtap="onAddTagTap" data-id="{{item.id}}">
          <t-icon name="add" size="24rpx" color="#999" />
          <text class="add-tag-text">添加标签</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 加载更多 -->
  <view class="load-more" wx:if="{{loading}}">
    <t-loading size="40rpx" />
    <text class="load-text">加载中...</text>
  </view>

  <!-- 空状态 -->
  <t-empty wx:if="{{!loading && posts.length === 0}}" 
    icon="image" 
    description="暂无帖子内容" 
  />
</view>



<!-- Toast提示 -->
<t-toast id="t-toast" />
